<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1">
    <!--<meta name="viewport" content="height=device-height, initial-scale=1.0" />-->
    <title>Michelle Gray</title>
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,300i,600">
    <link href="/resources/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/css/jquery.skidder.css">
</head>


<body class="preload">
    <div class="profile mobile-hidden">
        <img id="logo" src="images/logo.png" />
        <button id="menu-button" class="c-hamburger c-hamburger--htx">
        <span>toggle menu</span>
        </button>
        <p class="clear"></p>
        <div id="nav" class="mobile-hidden">
            <h3>Portfolio</h3>
            <div class="gallery-nav">
                <ul>
                    <li class="current">
                        <a data-cat="adventure" class="filter active" href="#">Adventure</a>
                    </li>
                    <li class="">
                        <a data-cat="landscape" class="filter" href="#">Landscape</a>
                    </li>
                    <li class="">
                        <a data-cat="portrait" class="filter" href="#">Portrait</a>
                    </li>
                    <li class="">
                        <a data-cat="wedding" class="filter" href="#">Wedding</a>
                    </li>
                    <li class="">
                        <a data-cat="underwater" class="filter" href="#">Underwater</a>
                    </li>
                    <!--<li class="">
                        <a data-cat="bucketlist" class="filter" href="#">The Bucketlist Tales</a>
                    </li>-->
                </ul>
            </div>

            <div class="contact">
                <a id="contact-button" data-cat="contact" class="filter" href="#">Contact</a> 
                
                <div class="social">
                     
                    <a type="button" href="https://www.instagram.com/m.c._photography_">
                        <i class="fa fa-instagram"></i>
                    </a>
                    
                </div>
            </div>
        </div>
    </div>
    <!--<div class="gallery-wrapper">
        <div class="gallery">
            <div class="img-container" style="/*background: url() no-repeat center center; background-size: cover; text-align: center;*/"><img src="DakotaForest.jpg"></img></div>
            <div class="img-container" style="/*background: url(BryceCrack.jpg) no-repeat center center; background-size: cover; text-align: center;*/"><img src="BryceCrack.jpg"></img></div>
        </div>
    </div>-->
    <div id="adventure" class="slideshow-wrapper active">
        <div class="slideshow hidden" style="">
            <div class="slide"><img src="images/adventure/DakotaForest.jpg"></div>
            <div class="slide"><img src="images/adventure/DakotaTrainDesaturated.jpg"></div>
            <div class="slide"><img src="images/adventure/StarStruck.jpg"></div>
        </div>
    </div>
    <div id="landscape" class="slideshow-wrapper">
        <div class="slideshow hidden" style="">
            <div class="slide"><img-preload src="images/landscape/BryceCrack.jpg"></div>
            <div class="slide"><img-preload src="images/landscape/BryceThorsHammer.jpg"></div>
            <div class="slide"><img-preload src="images/landscape/BryceWall.jpg"></div>
            <div class="slide"><img-preload src="images/landscape/IMG_2751.jpg"></div>
            <div class="slide"><img-preload src="images/landscape/IMG_2772.jpg"></div>
            <div class="slide"><img-preload src="images/landscape/LavaPointEnteranceZion-3.jpg"></div>
            <div class="slide"><img-preload src="images/landscape/LavaPointEnteranceZion-4.jpg"></div>
            <div class="slide"><img-preload src="images/landscape/LookUpBryce.jpg"></div>
            <div class="slide"><img-preload src="images/landscape/MilkyWay.jpg"></div>
            <div class="slide"><img-preload src="images/landscape/TinyTree.jpg"></div>
            <div class="slide"><img-preload src="images/landscape/Tree.jpg"></div>            
        </div>
    </div>

    <div id="portrait" class="slideshow-wrapper">
        <div class="slideshow hidden" style="">
            <div class="slide"><img-preload src="images/portrait/AllyTrain1.jpg"></div>
            <div class="slide"><img-preload src="images/portrait/AllyTrain2.jpg"></div>
            <div class="slide"><img-preload src="images/portrait/AllyUmbrella1.jpg"></div>
            <div class="slide"><img-preload src="images/portrait/AllyUmbrella2.jpg"></div>
            <div class="slide"><img-preload src="images/portrait/Desat.jpg"></div>
            <div class="slide"><img-preload src="images/portrait/Jon.jpg"></div>
            <div class="slide"><img-preload src="images/portrait/JosieKolob.jpg"></div>
        </div>
    </div>
    <div id="wedding" class="slideshow-wrapper">
        <div class="slideshow hidden" style="">
            <div class="slide"><img-preload src="images/wedding/Perez Wedding-95.jpg"></div>
            <div class="slide"><img-preload src="images/wedding/Perez Wedding-346.jpg"></div>
            <div class="slide"><img-preload src="images/wedding/Perez Wedding-323.jpg"></div>
            <div class="slide"><img-preload src="images/wedding/Perez Wedding-312.jpg"></div>
            <div class="slide"><img-preload src="images/wedding/Perez Wedding-272.jpg"></div>
            <div class="slide"><img-preload src="images/wedding/Perez Wedding-270.jpg"></div>
            <div class="slide"><img-preload src="images/wedding/Perez Wedding-236.jpg"></div>
            <div class="slide"><img-preload src="images/wedding/Perez Wedding-210.jpg"></div>
            <div class="slide"><img-preload src="images/wedding/Perez Wedding-154.jpg"></div>
            <div class="slide"><img-preload src="images/wedding/Perez Wedding-17.jpg"></div>
        </div>
    </div>
    <div id="underwater" class="slideshow-wrapper">
        <div class="slideshow hidden" style="">
            <div class="slide"><img-preload src="images/underwater/Beauty.jpg"></div>
            <div class="slide"><img-preload src="images/underwater/Freedom.jpg"></div>
            <div class="slide"><img-preload src="images/underwater/Happy.jpg"></div>
            <div class="slide"><img-preload src="images/underwater/Seastar.jpg"></div>
            <div class="slide"><img-preload src="images/underwater/Shell1.jpg"></div>
            <div class="slide"><img-preload src="images/underwater/Shell3.jpg"></div>
            <div class="slide"><img-preload src="images/underwater/Shell4.jpg"></div>
            <div class="slide"><img-preload src="images/underwater/Shell6.jpg"></div>
        </div>
    </div>
    
    <div id="contact" class="slideshow-wrapper">
        <form id="contact-form" method="POST">
            <p id="thanks" style="display: none;">
                Thanks for contacting! I'll be in touch soon!
            </p>
            <div class="medium-12 columns">
                <input class="required" name="name" placeholder="name" type="text">
                <input class="required email" name="email" placeholder="email" type="text">
                <input class="required" name="subject" placeholder="subject" type="text">
                <textarea class="required" name="message" placeholder="message"></textarea>
                <input type="text" name="_gotcha" style="display:none" />
                <a id="submit" href="#">Submit</a>
            </div>
        </form>
    </div>
</body>

<script src="/js/jquery.js"></script>
<script src="/js/imagesloaded.pkgd.min.js"></script>
<script src="/js/jquery.skidder.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.15.1/jquery.validate.min.js"></script>
<script>


$(document).ready(function() {
    $('body').removeClass('preload');

    function setupSlideshow(sl, cb) {
        var $slideshow = $(sl);
        $slideshow.find('img-preload').each(function() {
            var src = this.getAttribute('src');
            var $img = $(this);

            $img.replaceWith($('<img/>').attr('src', src));
        });
        $slideshow.imagesLoaded( function() {
            // $slideshow.skidder({animationType: 'css', maxWidth: 0, maxHeight: 0, scaleSlides: true});
            $slideshow.skidder({animationType: 'css', scaleSlides: false, maxWidth: "100%", maxHeight: "100%", swiping: false});
            $slideshow.removeClass('hidden');
            if(typeof cb == 'function') {
                cb();
            }
        });
    }

    $('.slideshow-wrapper.active .slideshow').each(function() {
        setupSlideshow(this, function() {
            $('.slideshow-wrapper:not(.active)').find('.slideshow').each(function() {
                setupSlideshow(this);
            })
        })
    });
(function() {
  'use strict';


  $(window).on('resize', function() {
      $('.slideshow').skidder('resize');
      centerSlides();
  });

  function centerSlides() {
      var left = $('.skidder-wrapper').css('margin-left');
      var imgWidth = $('.slide.active').width();
      var slideshowWidth = $('.slideshow-wrapper').width();
      var dif =  $('.slide.active').offset().left - $('.slideshow-wrapper').offset().left + imgWidth/2 - slideshowWidth/2;

    //   console.log('left: ', left);
    //   console.log('img: ', imgWidth);
    //   console.log('slideshow Left: ', $('.slideshow-wrapper').offset().left);
    //   console.log('dif: ', dif);

      $('.skidder-wrapper').css('margin-left', parseInt(left.replace('px', '')) - dif + 'px');
  }

      $('#menu-button').on('click', function(e) {
        e.preventDefault();
        if ($(this).hasClass('is-active')) {
            hideProfile();
        } else {
            showProfile();
        }
    });


  function hideProfile() {
    $('#menu-button').removeClass('is-active');
    $('#nav').addClass('mobile-hidden');
    $('.profile').addClass('mobile-hidden');
  }

  function showProfile() {
    $('#menu-button').addClass('is-active');
    $('#nav').removeClass('mobile-hidden');
    $('.profile').removeClass('mobile-hidden');
  }

    $('.filter').click(function() {
        $('.gallery-nav ul li').removeClass('current');
        $(this).closest('li').addClass('current');

        var cat = $(this).attr('data-cat');

        if (!$(this).hasClass('active')) {
            $(this).addClass('active');
            $('.filter').removeClass('active');

            $('.slideshow-wrapper').removeClass('active');
            $('.slideshow-wrapper#' + cat).addClass('active');


            $('#' + cat).addClass('active');
        } 
        hideProfile();
    });

    setupContact();

    })();
})

function setupContact() {
     $('#submit').click(function() {
        $('form#contact-form').submit();
    });

    $('form#contact-form').validate({
    messages: { },
    submitHandler: function(form) {
        var email = "michellecgray1%40gmail%2Ecom";
        $.ajax({
        url: '//formspree.io/' + email,
        method: 'POST',
        data: $(form).serialize(),
        dataType: 'json',
        success: function(data) {
            $('form#contact-form :input').prop('disabled', true);
            $('#submit').addClass('disabled');
            $('#thanks').show();
        }
        });
        return false;
    }
    });
}

</script>
</html>
