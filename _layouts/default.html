<!DOCTYPE html>
<html lang="en">
{% include head.html %}

<body class="preload">
    <div class="profile mobile-hidden">
        <img id="logo" src="images/logo.png" />
        <button id="menu-button" class="c-hamburger c-hamburger--htx">
        <span>toggle menu</span>
        </button>
        <p class="clear"></p>
        <div id="nav" class="mobile-hidden">
            <h3>Portfolio</h3>
            <div class="gallery-nav">
                <ul>
                    <li class="current">
                        <a data-cat="adventure" class="filter active" href="#">Adventure</a>
                    </li>
                    <li class="">
                        <a data-cat="landscape" class="filter" href="#">Landscape</a>
                    </li>
                    <li class="">
                        <a data-cat="portrait" class="filter" href="#">Portrait</a>
                    </li>
                    <li class="">
                        <a data-cat="underwater" class="filter" href="#">Underwater</a>
                    </li>
                    <!--<li class="">
                        <a data-cat="bucketlist" class="filter" href="#">The Bucketlist Tales</a>
                    </li>-->
                </ul>
            </div>
            <ul class="social">
                <a href="#">contact</a> 
                {% if site.facebook %}
                <a type="button" href="http://facebook.com/{{ site.facebook }}">
                    <i class="fa fa-facebook"></i>
                </a>
                {% endif %} {% if site.instagram %}
                <a type="button" href="https://www.instagram.com/{{ site.instagram }}">
                    <i class="fa fa-instagram"></i>
                </a>
                {% endif %}
            </ul>
        </div>
    </div>
    <!--<div class="gallery-wrapper">
        <div class="gallery">
            <div class="img-container" style="/*background: url() no-repeat center center; background-size: cover; text-align: center;*/"><img src="DakotaForest.jpg"></img></div>
            <div class="img-container" style="/*background: url(BryceCrack.jpg) no-repeat center center; background-size: cover; text-align: center;*/"><img src="BryceCrack.jpg"></img></div>
        </div>
    </div>-->
    <div class="slideshow-wrapper adventure active">
        <div class="slideshow" style="">
            <div class="slide"><img src="images/adventure/DakotaForest.jpg"></div>
            <div class="slide"><img src="images/adventure/DakotaTrainDesaturated.jpg"></div>
            <div class="slide"><img src="images/adventure/StarStruck.jpg"></div>
        </div>
    </div>
    <div class="slideshow-wrapper landscape">
        <div class="slideshow" style="">
            <div class="slide"><img src="images/landscape/BryceCrack.jpg"></div>
            <div class="slide"><img src="images/landscape/BryceThorsHammer.jpg"></div>
            <div class="slide"><img src="images/landscape/BryceWall.jpg"></div>
            <div class="slide"><img src="images/landscape/IMG_2751.jpg"></div>
            <div class="slide"><img src="images/landscape/IMG_2772.jpg"></div>
            <div class="slide"><img src="images/landscape/LavaPointEnteranceZion-3.jpg"></div>
            <div class="slide"><img src="images/landscape/LavaPointEnteranceZion-4.jpg"></div>
            <div class="slide"><img src="images/landscape/LookUpBryce.jpg"></div>
            <div class="slide"><img src="images/landscape/MilkyWay.jpg"></div>
            <div class="slide"><img src="images/landscape/TinyTree.jpg"></div>
            <div class="slide"><img src="images/landscape/Tree.jpg"></div>            
        </div>
    </div>

    <div class="slideshow-wrapper portrait">
        <div class="slideshow" style="">
            <div class="slide"><img src="images/portrait/AllyTrain1.jpg"></div>
            <div class="slide"><img src="images/portrait/AllyTrain2.jpg"></div>
            <div class="slide"><img src="images/portrait/AllyUmbrella1.jpg"></div>
            <div class="slide"><img src="images/portrait/AllyUmbrella2.jpg"></div>
            <div class="slide"><img src="images/portrait/Desat.jpg"></div>
            <div class="slide"><img src="images/portrait/Jon.jpg"></div>
            <div class="slide"><img src="images/portrait/JosieKolob.jpg"></div>
        </div>
    </div>
    <div class="slideshow-wrapper underwater">
        <div class="slideshow" style="">
            <div class="slide"><img src="images/underwater/Beauty.jpg"></div>
            <div class="slide"><img src="images/underwater/Freedom.jpg"></div>
            <div class="slide"><img src="images/underwater/Happy.jpg"></div>
            <div class="slide"><img src="images/underwater/Seastar.jpg"></div>
            <div class="slide"><img src="images/underwater/Shell1.jpg"></div>
            <div class="slide"><img src="images/underwater/Shell3.jpg"></div>
            <div class="slide"><img src="images/underwater/Shell4.jpg"></div>
            <div class="slide"><img src="images/underwater/Shell6.jpg"></div>
        </div>
    </div>
</body>

<script src="{{ site.baseurl }}/js/jquery.js"></script>
<script src="{{ site.baseurl }}/js/imagesloaded.pkgd.min.js"></script>
<script src="{{ site.baseurl }}/js/jquery.skidder.js"></script>
<script>

$('.slideshow').each( function() {
  var $slideshow = $(this);
  $slideshow.imagesLoaded( function() {
    // $slideshow.skidder({animationType: 'css', maxWidth: 0, maxHeight: 0, scaleSlides: true});
    $slideshow.skidder({animationType: 'css', scaleSlides: false, maxWidth: 0, maxHeight: 0});
  });
});

(function() {

  "use strict";

  var toggles = document.querySelectorAll(".c-hamburger");

  for (var i = toggles.length - 1; i >= 0; i--) {
    var toggle = toggles[i];
    toggleHandler(toggle);
  };

  function toggleHandler(toggle) {
    toggle.addEventListener( "click", function(e) {
      e.preventDefault();
      if (this.classList.contains("is-active") === true) {
        $(this).removeClass("is-active");
        $('#nav').addClass('mobile-hidden');
        $('.profile').addClass('mobile-hidden');
      } else {
        $(this).addClass("is-active");
        $('#nav').removeClass('mobile-hidden');
        $('.profile').removeClass('mobile-hidden');
      }
    });
  }


  $(window).on('resize', function() {
      $('.slideshow').skidder('resize');
      centerSlides();
  });

  function centerSlides() {
      var left = $('.skidder-wrapper').css('margin-left');
      var imgWidth = $('.slide.active').width();
      var slideshowWidth = $('.slideshow-wrapper').width();
      var dif =  $('.slide.active').offset().left - $('.slideshow-wrapper').offset().left + imgWidth/2 - slideshowWidth/2;

      console.log('left: ', left);
      console.log('img: ', imgWidth);
      console.log('slideshow Left: ', $('.slideshow-wrapper').offset().left);
      console.log('dif: ', dif);

      $('.skidder-wrapper').css('margin-left', parseInt(left.replace('px', '')) - dif + 'px');
  }
})();

$('.filter').click(function() {
    $('.gallery-nav ul li').removeClass('current');
    $(this).closest('li').addClass('current');

    var cat = $(this).attr('data-cat');

    if (!$(this).hasClass('active')) {
        $(this).addClass('active');
        $('.filter').removeClass('active');

        $('.slideshow-wrapper').removeClass('active');
        $('.slideshow-wrapper.' + cat).addClass('active');
    } 
});
</script>

<script type="text/javascript">
    window.onload = function(){
        document.getElementsByTagName("BODY")[0].classList.remove("preload");
    }
</script>
</html>
